(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,s){t.exports=s(20)},16:function(t,e,s){},19:function(t,e,s){},20:function(t,e,s){"use strict";s.r(e);var n=s(0),a=s.n(n),o=s(8),i=s.n(o),c=(s(16),s(6)),r=s.n(c),u=s(9),l=s(1),h=s(2),m=s(4),b=s(3),f=s(5),d=(s(19),function(t){function e(){return Object(l.a)(this,e),Object(m.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return a.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css",integrity:"sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS",crossOrigin:"anonymous"})}}]),e}(a.a.Component)),g=function(t){function e(){return Object(l.a)(this,e),Object(m.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return a.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Roboto Mono",rel:"stylesheet"})}}]),e}(a.a.Component),p=function(t){function e(t){var s;return Object(l.a)(this,e),(s=Object(m.a)(this,Object(b.a)(e).call(this,t))).serialNumber=12344235,s.password="",s.buttonCombination=[],s.timeoutID=null,s.buttonRows=[["7","8","9"],["4","5","6"],["1","2","3"],["*","0","L"]],s.state={locked:!1,statusMessage:""},s}return Object(f.a)(e,t),Object(h.a)(e,[{key:"masterUnlock",value:function(t){return new Promise(function(e,s){var n="https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code="+t;console.log(n),fetch(n,{}).then(function(t){console.log(t),e(t)}).catch(function(t){console.log(t),s()})})}},{key:"pressButton",value:function(t){var e=this;this.isInputBlocked()||("L"!==t||"Ready"!==this.state.statusMessage?("Service"!==this.state.statusMessage&&this.setState({statusMessage:""}),this.buttonCombination.push(t),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(function(){e.submitCombination()},1e3)):this.lock())}},{key:"submitCombination",value:function(){var t=Object(u.a)(r.a.mark(function t(){var e,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Service"!==this.state.statusMessage){t.next=15;break}return e=this.buttonCombination.join(""),this.setState({statusMessage:"Validating"}),t.prev=3,t.next=6,this.masterUnlock(e);case 6:t.sent.sn===this.serialNumber?this.unlock(!0):this.setState({statusMessage:"Error"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),this.setState({statusMessage:"Error"});case 13:return this.buttonCombination=[],t.abrupt("return");case 15:this.state.locked||(this.buttonCombination.length<6?this.setState({statusMessage:"Error"}):(this.password=this.buttonCombination.join(""),isNaN(this.password)?(console.log("Invalid pass"),this.setState({statusMessage:"Error"})):this.setState({statusMessage:"Ready"})),this.buttonCombination=[]),this.state.locked&&((s=this.buttonCombination.join(""))===this.password?this.unlock(!1):"000000"===s?this.setState({statusMessage:"Service"}):this.setState({statusMessage:"Error"}),this.buttonCombination=[]);case 17:case"end":return t.stop()}},t,this,[[3,10]])}));return function(){return t.apply(this,arguments)}}()},{key:"lock",value:function(){var t=this;this.setState({statusMessage:"Locking"}),setTimeout(function(){t.finishMechanicalProcess()},3e3)}},{key:"unlock",value:function(t){var e=this;this.setState({statusMessage:"Unlocking"}),setTimeout(function(){e.finishMechanicalProcess(t)},3e3)}},{key:"finishMechanicalProcess",value:function(t){this.state.locked?t?this.setState({statusMessage:""}):this.setState({statusMessage:"Ready"}):this.setState({statusMessage:""}),this.setState({locked:!this.state.locked})}},{key:"isInputBlocked",value:function(){return this.buttonCombination.length>5&&"Service"===!this.state.statusMessage||("Locking"===this.state.statusMessage||("Unlocking"===this.state.statusMessage||"Validating"===this.state.statusMessage))}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"".concat(k.windowStyle)},a.a.createElement(g,null),a.a.createElement(d,null),a.a.createElement("div",{className:"cPanelBox ".concat(k.cPanelBoxStyle)},a.a.createElement("div",{className:"screenBox ".concat(k.screenBoxStyle)},a.a.createElement("p",null,this.state.locked?"Locked":"Unlocked"),a.a.createElement("p",{className:"".concat(k.statusMessageStyle)},this.state.statusMessage)),a.a.createElement("div",null,this.buttonRows.map(function(e){return a.a.createElement("div",{className:"".concat(k.buttonRowStyle)},e.map(function(e){return a.a.createElement("div",{className:"button ".concat(k.buttonStyle),onClick:function(){t.pressButton(e)}},e)}))})),a.a.createElement("div",{className:"".concat(k.serialNumberStyle)},a.a.createElement("small",null,"S/N: ",this.serialNumber))))}}]),e}(n.Component),k={windowStyle:"vh-100 d-flex justify-content-center align-items-center",cPanelBoxStyle:"d-flex flex-column align-items-center",screenBoxStyle:"d-flex flex-column justify-content-between my-4 p-2 rounded",statusMessageStyle:"mb-0 mr-1 align-self-end h1",buttonRowStyle:"d-flex flex-row",buttonStyle:"d-flex justify-content-center align-items-center m-2",serialNumberStyle:"align-self-end mr-1"},y=p;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.4eb31659.chunk.js.map